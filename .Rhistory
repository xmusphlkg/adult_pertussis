get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number'),
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number'),
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate'),
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
)
View(df_aapc_sex)
rbind(
get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number'),
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number'),
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate'),
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
)  |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var, Value, p_value_label)
df_aapc_global <- read.csv('./outcome/appendix/table_s1_global_trend.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var, Value, p_value_label) |>
mutate(Index = 'Global')
View(df_aapc_global)
df_aapc_sex <- rbind(
get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number'),
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number'),
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate'),
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
)  |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = index)
df_aapc_sex <- rbind(
get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number'),
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number'),
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate'),
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
)
write.csv(df_aapc_sex,
'./outcome/appendix/table_s2_sex_group.csv',
row.names = FALSE)
df_aapc_sex <- df_aapc_sex|>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = index)
df_aapc_global <- read.csv('./outcome/appendix/table_s1_global_trend.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var, Value, p_value_label) |>
mutate(Index = 'Global')
df_aapc_age <- read.csv('./outcome/appendix/table_s4_age_group.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = age_name)
df_aapc_region <- read.csv('./outcome/appendix/table_s6_region_group.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = location_name)
df_aapc <- rbind(df_aapc_global, df_aapc_age, df_aapc_region, df_aapc_sex) |>
mutate(Value = paste0(Value, p_value_label),
# remove ' SDI' in Index
Index = str_remove(Index, ' SDI'),
# remove ' - WB' in Index
Index = str_remove(Index, ' - WB')) |>
select(-p_value_label) |>
pivot_wider(names_from = Year,
values_from = Value) |>
# split measure
rename(`AAPC (95%CI)\n1990-2019` = '1990~2019', `AAPC (95%CI)\n2019-2021` = '2019~2021') |>
mutate(Index = factor(Index, levels = c('Global', 'Female', 'Male',
'High', "High-middle", "Middle", "Low-middle", "Low",
'20-24 years', '25-29 years', '30-34 years', '35-39 years',
'40-44 years', '45-49 years', '50-54 years', '55+ years',
"East Asia & Pacific", "Europe & Central Asia", "Latin America & Caribbean",
"Middle East & North Africa", "South Asia", "Sub-Saharan Africa"))) |>
arrange(Index)
df_aapc <- rbind(df_aapc_global, df_aapc_age, df_aapc_region, df_aapc_sex)
View(df_aapc)
df_aapc <- rbind(df_aapc_global, df_aapc_age, df_aapc_region, df_aapc_sex) |>
mutate(Value = paste0(Value, p_value_label),
# remove ' SDI' in Index
Index = str_remove(Index, ' SDI'),
# remove ' - WB' in Index
Index = str_remove(Index, ' - WB')) |>
select(-p_value_label)
df_aapc <- rbind(df_aapc_global, df_aapc_age, df_aapc_region, df_aapc_sex) |>
mutate(Value = paste0(Value, p_value_label),
# remove ' SDI' in Index
Index = str_remove(Index, ' SDI'),
# remove ' - WB' in Index
Index = str_remove(Index, ' - WB')) |>
select(-p_value_label) |>
pivot_wider(names_from = Year,
values_from = Value)
View(df_aapc_sex)
View(df_sex_number)
View(df_sex_rate)
df_aapc_sex <- rbind(
get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number'),
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number'),
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate'),
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
)
View(df_aapc_sex)
get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number')
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number')
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate')
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
model_rate_dalys <- joinpoint(filter(df_age_rate, measure_name == 'DALYs'),
year,
val,
by = Index,
run_opt = run_opt,
export_opt = export_opt_new)
df_aapc_sex <- rbind(
get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number'),
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number'),
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate'),
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
)
write.csv(df_aapc_sex,
'./outcome/appendix/table_s2_sex_group.csv',
row.names = FALSE)
df_aapc_sex <- df_aapc_sex|>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = index)
df_aapc_global <- read.csv('./outcome/appendix/table_s1_global_trend.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var, Value, p_value_label) |>
mutate(Index = 'Global')
df_aapc_age <- read.csv('./outcome/appendix/table_s4_age_group.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = age_name)
df_aapc_region <- read.csv('./outcome/appendix/table_s6_region_group.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = location_name)
df_aapc <- rbind(df_aapc_global, df_aapc_age, df_aapc_region, df_aapc_sex) |>
mutate(Value = paste0(Value, p_value_label),
# remove ' SDI' in Index
Index = str_remove(Index, ' SDI'),
# remove ' - WB' in Index
Index = str_remove(Index, ' - WB')) |>
select(-p_value_label) |>
pivot_wider(names_from = Year,
values_from = Value) |>
# split measure
rename(`AAPC (95%CI)\n1990-2019` = '1990~2019', `AAPC (95%CI)\n2019-2021` = '2019~2021') |>
mutate(Index = factor(Index, levels = c('Global', 'Female', 'Male',
'High', "High-middle", "Middle", "Low-middle", "Low",
'20-24 years', '25-29 years', '30-34 years', '35-39 years',
'40-44 years', '45-49 years', '50-54 years', '55+ years',
"East Asia & Pacific", "Europe & Central Asia", "Latin America & Caribbean",
"Middle East & North Africa", "South Asia", "Sub-Saharan Africa"))) |>
arrange(Index)
model_rate_dalys <- joinpoint(filter(df_sex_rate, measure_name == 'DALYs'),
year,
val,
by = Index,
run_opt = run_opt,
export_opt = export_opt_new)
df_aapc_sex <- rbind(
get_aapc(model_number_incidence) |>  mutate(Label = 'Incidence', Measure = 'Number'),
get_aapc(model_number_dalys) |>  mutate(Label = 'DALYs', Measure = 'Number'),
get_aapc(model_rate_incidence) |>  mutate(Label = 'Incidence', Measure = 'Rate'),
get_aapc(model_rate_dalys) |>  mutate(Label = 'DALYs', Measure = 'Rate')
)
write.csv(df_aapc_sex,
'./outcome/appendix/table_s2_sex_group.csv',
row.names = FALSE)
df_aapc_sex <- df_aapc_sex|>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = index)
df_aapc_global <- read.csv('./outcome/appendix/table_s1_global_trend.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var, Value, p_value_label) |>
mutate(Index = 'Global')
df_aapc_age <- read.csv('./outcome/appendix/table_s4_age_group.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = age_name)
df_aapc_region <- read.csv('./outcome/appendix/table_s6_region_group.csv') |>
filter(Year %in% c('1990~2019', '2019~2021')) |>
select(Measure, Year, var = Label, Value, p_value_label, Index = location_name)
df_aapc <- rbind(df_aapc_global, df_aapc_age, df_aapc_region, df_aapc_sex) |>
mutate(Value = paste0(Value, p_value_label),
# remove ' SDI' in Index
Index = str_remove(Index, ' SDI'),
# remove ' - WB' in Index
Index = str_remove(Index, ' - WB')) |>
select(-p_value_label) |>
pivot_wider(names_from = Year,
values_from = Value) |>
# split measure
rename(`AAPC (95%CI)\n1990-2019` = '1990~2019', `AAPC (95%CI)\n2019-2021` = '2019~2021') |>
mutate(Index = factor(Index, levels = c('Global', 'Female', 'Male',
'High', "High-middle", "Middle", "Low-middle", "Low",
'20-24 years', '25-29 years', '30-34 years', '35-39 years',
'40-44 years', '45-49 years', '50-54 years', '55+ years',
"East Asia & Pacific", "Europe & Central Asia", "Latin America & Caribbean",
"Middle East & North Africa", "South Asia", "Sub-Saharan Africa"))) |>
arrange(Index)
df_output_inci <- df_label |>
select(Index, contains('Incidence')) |>
left_join(filter(df_aapc, var == 'Incidence', Measure == 'Number'), by = 'Index') |>
select(Index,
`Number Incidence 1990`, `Rate Incidence 1990`,
`Number Incidence 2019`, `Rate Incidence 2019`,
`Number Incidence 2021`, `Rate Incidence 2021`,
`AAPC (95%CI)\n1990-2019`, `AAPC (95%CI)\n2019-2021`)
# save to md file
markdown_table <- knitr::kable(df_output_inci,
format = "markdown",
col.names = c('Group',
'1990<br>Incidence',
'1990<br>Incidence rate (per 100,000)',
'2019<br>Incidence',
'2019<br>Incidence rate (per 100,000)',
'2021<br>Incidence',
'2021<br>Incidence rate (per 100,000)',
'AAPC (95%CI)<br>1990-2019',
'AAPC (95%CI)<br>2019-2021'),
escape = FALSE)
write(markdown_table, './outcome/appendix/table_s2_incidence_trend.md')
df_output_daly <- df_label |>
select(Index, contains('DALYs')) |>
left_join(filter(df_aapc, var == 'DALYs', Measure == 'Number'), by = 'Index') |>
select(Index,
`Number DALYs 1990`, `Rate DALYs 1990`,
`Number DALYs 2019`, `Rate DALYs 2019`,
`Number DALYs 2021`, `Rate DALYs 2021`,
`AAPC (95%CI)\n1990-2019`, `AAPC (95%CI)\n2019-2021`)
# save to md file
markdown_table <- knitr::kable(df_output_daly,
format = "markdown",
col.names = c('Group',
'1990<br>DALYs',
'1990<br>DALYs rate (per 100,000)',
'2019<br>DALYs',
'2019<br>DALYs rate (per 100,000)',
'2021<br>DALYs',
'2021<br>DALYs rate (per 100,000)',
'AAPC (95%CI)<br>1990-2019',
'AAPC (95%CI)<br>2019-2021'),
escape = FALSE)
write(markdown_table, './outcome/appendix/table_s3_dalys_trend.md')
# loading packages --------------------------------------------------------
library(MASS)
library(tidyverse)
library(openxlsx)
library(paletteer)
library(cowplot)
library(Cairo)
library(sf)
# data --------------------------------------------------------------------
rm(list = ls())
df_raw_incidence <- read.csv('./data/database/incidence_rate_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_rate_both.csv')
# Load map data
df_map <- st_read('./data/Map GS(2021)648 - geojson/globalmap.shp',
quiet = TRUE)
df_map_border <- st_read('./data/Map GS(2021)648 - geojson/china_border.shp',
quiet = TRUE)
## get incidence rate, DALYs rate
df_all <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
# Load map data
df_map_iso <- read.csv('./data/iso_code.csv')
# loading packages --------------------------------------------------------
library(MASS)
library(tidyverse)
library(openxlsx)
library(paletteer)
library(cowplot)
library(Cairo)
library(sf)
# data --------------------------------------------------------------------
rm(list = ls())
df_raw_incidence <- read.csv('./data/database/incidence_rate_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_rate_both.csv')
# Load map data
df_map_iso <- read.csv('./data/iso_code.csv')
df_map <- st_read('./data/Map GS(2021)648 - geojson/globalmap.shp',
quiet = TRUE)
df_map_border <- st_read('./data/Map GS(2021)648 - geojson/china_border.shp',
quiet = TRUE)
## get incidence rate, DALYs rate
df_all <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
rm(df_raw_incidence, df_raw_dalys)
df_incidence_2021 <- df_all |>
filter(year == 2021 & measure_name == 'Incidence')
df_dalys_2021 <- df_all |>
filter(year == 2021 & measure_name == 'DALYs')
df_raw_incidence <- read.csv('./data/database/incidence_number_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_number_both.csv')
## get incidence number, DALYs number
df_all_number <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
source('./script/function.R')
source('./script/joinpoint_setting.R')
rm(export_opt)
# loading packages --------------------------------------------------------
# devtools::install_github("DanChaltiel/nih.joinpoint")
library(nih.joinpoint)
library(segmented)
library(tidyverse)
library(patchwork)
library(paletteer)
library(Cairo)
library(sf)
# data --------------------------------------------------------------------
rm(list = ls())
df_raw_incidence <- read.csv('./data/database/incidence_rate_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_rate_both.csv')
# Load map data
df_map_iso <- read.csv('./data/iso_code.csv')
df_map <- st_read('./data/Map GS(2021)648 - geojson/globalmap.shp',
quiet = TRUE)
df_map_border <- st_read('./data/Map GS(2021)648 - geojson/china_border.shp',
quiet = TRUE)
## get incidence rate, DALYs rate
df_all <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
rm(df_raw_incidence, df_raw_dalys)
df_incidence_2021 <- df_all |>
filter(year == 2021 & measure_name == 'Incidence')
df_dalys_2021 <- df_all |>
filter(year == 2021 & measure_name == 'DALYs')
df_raw_incidence <- read.csv('./data/database/incidence_number_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_number_both.csv')
## get incidence number, DALYs number
df_all_number <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
# loading packages --------------------------------------------------------
# devtools::install_github("DanChaltiel/nih.joinpoint")
library(nih.joinpoint)
library(segmented)
library(tidyverse)
library(patchwork)
library(paletteer)
library(Cairo)
library(sf)
# data --------------------------------------------------------------------
rm(list = ls())
source('./script/function.R')
source('./script/joinpoint_setting.R')
df_raw_incidence <- read.csv('./data/database/incidence_rate_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_rate_both.csv')
# Load map data
df_map_iso <- read.csv('./data/iso_code.csv')
df_map <- st_read('./data/Map GS(2021)648 - geojson/globalmap.shp',
quiet = TRUE)
df_map_border <- st_read('./data/Map GS(2021)648 - geojson/china_border.shp',
quiet = TRUE)
## get incidence rate, DALYs rate
df_all <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
rm(df_raw_incidence, df_raw_dalys)
df_incidence_2021 <- df_all |>
filter(year == 2021 & measure_name == 'Incidence')
df_dalys_2021 <- df_all |>
filter(year == 2021 & measure_name == 'DALYs')
df_raw_incidence <- read.csv('./data/database/incidence_number_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_number_both.csv')
## get incidence number, DALYs number
df_all_number <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
# model -------------------------------------------------------------------
View(df_all_number)
View(df_all_number)
View(df_all)
## get incidence rate, DALYs rate
df_all_rate <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
rm(list = ls())
source('./script/function.R')
source('./script/joinpoint_setting.R')
df_raw_incidence <- read.csv('./data/database/incidence_rate_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_rate_both.csv')
# Load map data
df_map_iso <- read.csv('./data/iso_code.csv')
df_map <- st_read('./data/Map GS(2021)648 - geojson/globalmap.shp',
quiet = TRUE)
df_map_border <- st_read('./data/Map GS(2021)648 - geojson/china_border.shp',
quiet = TRUE)
## get incidence rate, DALYs rate
df_all_rate <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
rm(df_raw_incidence, df_raw_dalys)
df_incidence_2021 <- df_all |>
filter(year == 2021 & measure_name == 'Incidence')
## get incidence number, DALYs number
df_all_number <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
df_incidence_2021 <- df_all_rate |>
filter(year == 2021 & measure_name == 'Incidence')
df_dalys_2021 <- df_all_rate |>
filter(year == 2021 & measure_name == 'DALYs')
df_raw_incidence <- read.csv('./data/database/incidence_number_both.csv')
df_raw_dalys <- read.csv('./data/database/dalys_number_both.csv')
## get incidence number, DALYs number
df_all_number <- df_raw_incidence |>
rbind(df_raw_dalys) |>
rename(location_id = location) |>
filter(age_name == '20+ years' &
location_id %in% df_map_iso$location_id) |>
mutate(# replace DALYs (Disability-Adjusted Life Years) with DALYs
measure_name = str_replace(measure_name, 'DALYs \\(Disability-Adjusted Life Years\\)', 'DALYs')) |>
select(location_name, measure_name, year, val, lower, upper)
rm(df_raw_incidence, df_raw_dalys)
View(df_all_rate)
df_global_number_incidence <- df_all_number |>
filter(measure_name == 'Incidence') |>
select(year, location_name, val, lower, upper)
df_global_number_dalys <- df_all_number |>
filter(measure_name == 'DALYs (Disability-Adjusted Life Years)') |>
select(year, location_name, val, lower, upper)
df_global_rate_incidence <- df_all_rate |>
filter(measure_name == 'Incidence') |>
select(year, location_name, val, lower, upper)
df_global_rate_dalys <- df_all_rate |>
filter(measure_name == 'DALYs (Disability-Adjusted Life Years)') |>
select(year, location_name, val, lower, upper)
View(df_global_number_dalys)
View(df_all_number)
View(df_global_number_dalys)
df_global_number_incidence <- df_all_number |>
filter(measure_name == 'Incidence')
df_all_number |>
filter(measure_name == 'Incidence')
df_global_number_incidence <- df_all_number |>
filter(measure_name == 'Incidence') |>
select(year, location_name, val, lower, upper)
View(df_global_number_incidence)
df_global_number_dalys <- df_all_number |>
filter(measure_name == 'DALYs (Disability-Adjusted Life Years)') |>
select(year, location_name, val, lower, upper)
df_global_rate_incidence <- df_all_rate |>
filter(measure_name == 'Incidence') |>
select(year, location_name, val, lower, upper)
df_global_rate_dalys <- df_all_rate |>
filter(measure_name == 'DALYs (Disability-Adjusted Life Years)') |>
select(year, location_name, val, lower, upper)
df_global_number_incidence <- df_all_number |>
filter(measure_name == 'Incidence') |>
select(year, location_name, val, lower, upper)
df_global_number_dalys <- df_all_number |>
filter(measure_name == 'DALYs') |>
select(year, location_name, val, lower, upper)
df_global_rate_incidence <- df_all_rate |>
filter(measure_name == 'Incidence') |>
select(year, location_name, val, lower, upper)
df_global_rate_dalys <- df_all_rate |>
filter(measure_name == 'DALYs') |>
select(year, location_name, val, lower, upper)
## build joinpoint model for number
model_number_incidence <- joinpoint(df_global_number_incidence,
year,
val,
by = location_name,
run_opt = run_opt_number,
export_opt = export_opt_new)
